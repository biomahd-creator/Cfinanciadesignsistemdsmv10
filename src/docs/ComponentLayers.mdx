{/* docs/ComponentLayers.mdx */}
import { Meta } from '@storybook/blocks';

<Meta title="Docs/Component Layers" />

# Component Layers

El DSM usa 4 capas inspiradas en Atomic Design para organizar 180+ componentes.

## Layer 1: UI Primitives (`/components/ui/`)

Atomos y moleculas. Base del sistema. Construidos sobre **Radix UI** + **Tailwind CSS**.

**60+ componentes** incluyendo:
- **Inputs:** Input, Textarea, Select, Checkbox, Switch, Slider, RadioGroup, MultiSelect, InputOTP, InputFile
- **Layout:** Card, Accordion, Tabs, Collapsible, Resizable, ScrollArea, Separator, AspectRatio
- **Feedback:** Alert, Badge, Progress, Skeleton, LoadingOverlay, LoadingStates, EmptyState, ErrorBoundary
- **Overlay:** Dialog, AlertDialog, Sheet, Drawer, Popover, HoverCard, Tooltip, BottomSheet
- **Navigation:** Breadcrumb, Pagination, NavigationMenu, Menubar, ContextMenu, DropdownMenu
- **Actions:** Button, SplitButton, FloatingActionButton, Toggle, ToggleGroup

### Variantes especificas del DSM

- **Badge:** Incluye variantes `*-soft-outline` para tablas de factoring (success, warning, info, destructive, neutral)
- **Progress with Range:** Variante custom con etiquetas de rango (fechas) - `progress-with-range.tsx`
- **SplitButton:** Boton con accion principal + dropdown de acciones secundarias

---

## Layer 2: Advanced (`/components/advanced/`)

Organismos complejos y reutilizables. 24 componentes en 4 categorias:

### Data Visualization
- `GaugeChart` — Medidor semicircular con umbrales
- `Sparkline` — Mini grafico de tendencia
- `FunnelChart` — Embudo de conversion
- `Heatmap` — Mapa de calor matricial
- `TreemapChart` — Mapa de arbol proporcional
- `ChartShowcase` — Galeria de todos los tipos de grafico

### Data Management
- `DataTable` — Tabla completa con TanStack Table (sorting, filtering, pagination)
- `TreeTable` — Tabla jerarquica expandible (Cliente > Operacion > Factura)
- `MasterDataGrid` — Wrapper de toolbar + pagination
- `VirtualizedList` — Lista virtualizada para 10K+ items
- `InfiniteScroll` — Scroll infinito con IntersectionObserver
- `MasonryGrid` — Grid masonry responsive
- `ExportData` — Exportacion CSV/Excel con configuracion

### Forms
- `Combobox` — Select con busqueda
- `DatePickerWithPresets` — Picker con presets rapidos (Hoy, Manana, etc.)
- `MultiColumnForm` — Formulario multi-columna responsive
- `ConditionalForm` — Formulario con logica condicional
- `FormBuilder` — Constructor de formularios dinamico
- `FileUploader` — Uploader con drag-drop y progreso

### Content
- `Timeline` — Timeline composable (sub-componentes)
- `Rating` — Estrellas interactivas (3 tamanos)
- `TransferList` — Lista de transferencia dual
- `StepIndicator` — Indicador de pasos (3 variantes, 2 orientaciones)
- `RichTextEditor` — Editor de texto enriquecido

---

## Layer 3: Patterns (`/components/patterns/`)

Organismos de negocio que componen vistas completas.

### Factoring-Specific
- `FactoringKpiCard` / `FactoringKpiCardGroup` — KPIs con variantes de color
- `FactoringCalculator` — Calculadora de descuento en tiempo real
- `CupoValidator` — Validador de cupo de credito
- `ApprovalFlowWizard` — Wizard de aprobacion de 5 pasos

### Factoring Sub-Patterns (`/patterns/factoring/`)
- `FactoringInvoiceTable` — Tabla de facturas con tabs (elegibles/pendientes/no-elegibles/descartadas)
- `FactoringSelectionPage` — Pagina completa de seleccion de facturas
- `OperationSummary` — Resumen de operacion procesada

### Generic Business Patterns
- `ActivityFeed` — Feed de actividad con avatars
- `CommentThread` — Hilos de comentarios con replies
- `NotificationCenter` — Centro de notificaciones con tabs
- `SearchResults` — Resultados de busqueda tipados
- `UserProfileCard` — Tarjeta de perfil con stats
- `AdvancedFilterPanel` — Panel de filtros avanzados (Sheet)
- `QuickActionToolbar` — Toolbar con Command palette (Cmd+K)
- `StatsDashboard` — Dashboard de estadisticas
- `MultiStepWizard` / `OnboardingWizard` — Wizards genericos
- `AuditLogViewer` / `ApprovalTimeline` — Logs y timelines
- `EditableTable` / `DataTableAdvanced` — Tablas editables

---

## Layer 4: Widgets (`/components/widgets/`)

Bloques funcionales pequenos, usados como building blocks en Patterns.

- `StatCard` — Tarjeta de metrica simple con trend
- `StatusKPICard` — KPI con variantes de estado (negotiation, disbursed, warning, error)
- `FilterBar` / `FilterChip` / `SearchBar` — Componentes de filtrado
- `InvoiceTable` — Tabla de facturas simple
- `ActionButton` — Boton de accion contextual
- `FormField` — Campo de formulario con label + validacion
- `NavigationBar` — Barra de navegacion
- Y mas: BookingCalendar, ColorBox, ColorSwatch, ContrastPreview, GridSystemPreview, SpacingPreview
