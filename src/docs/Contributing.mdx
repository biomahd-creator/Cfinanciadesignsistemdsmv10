{/* docs/Contributing.mdx */}
import { Meta } from '@storybook/blocks';

<Meta title="Docs/Contributing" />

# Contributing Guide

Guia para agregar nuevos componentes al DSM de CESIONBNK.

## Workflow

### 1. Verifica que no existe
Consulta **COMPONENTS.md** y busca en Storybook antes de crear un componente nuevo.

### 2. Elige la capa correcta

| Si el componente es... | Va en... |
|---|---|
| Atomo/molecula generico (input, button, card) | `/components/ui/` |
| Organismo complejo reutilizable (chart, datatable) | `/components/advanced/` |
| Patron de negocio (wizard, dashboard, feed) | `/components/patterns/` |
| Bloque funcional pequeno (stat card, filter chip) | `/components/widgets/` |
| Componente especifico de Factoring | `/factoring/` |

### 3. Crea el componente

```tsx
// /components/[layer]/MiComponente.tsx
import { cn } from "../ui/utils"; // NOT from /lib/utils

interface MiComponenteProps {
  // Props tipadas
}

export function MiComponente({ ...props }: MiComponenteProps) {
  return (/* JSX */);
}
```

### 4. Crea la story

```tsx
// /components/[layer]/MiComponente.stories.tsx
import type { Meta, StoryObj } from '@storybook/react';
import { MiComponente } from './MiComponente';

const meta: Meta<typeof MiComponente> = {
  title: '[Layer]/MiComponente',
  component: MiComponente,
  tags: ['autodocs'],
  parameters: {
    docs: {
      description: {
        component: 'Descripcion del componente.',
      },
    },
  },
};

export default meta;
type Story = StoryObj<typeof MiComponente>;

export const Default: Story = {
  args: { /* default props */ },
};
```

### 5. Checklist de validacion

- [ ] Componente usa `cn()` de `/components/ui/utils.ts`
- [ ] Props tipadas con TypeScript interfaces
- [ ] Story con `tags: ['autodocs']`
- [ ] Al menos 1 story `Default` + variantes relevantes
- [ ] Incluye ejemplo contextual de Factoring/CESIONBNK si aplica
- [ ] Responsive (funciona en mobile, tablet, desktop)
- [ ] Dark mode compatible (usa tokens semanticos)
- [ ] Accesible (keyboard nav, ARIA labels, contraste)
- [ ] Exportado en el `index.ts` de la capa correspondiente

## Convencion de Nombres

| Tipo | Convencion | Ejemplo |
|------|-----------|---------|
| Componente | PascalCase | `FactoringKpiCard` |
| Archivo | PascalCase o kebab-case | `FactoringKpiCard.tsx` o `progress-with-range.tsx` |
| Story | `[Componente].stories.tsx` | `FactoringKpiCard.stories.tsx` |
| Title en story | `[Layer]/[Nombre]` | `Patterns/FactoringKpiCard` |

## Tokens: Regla de 3 Lugares

Si necesitas un nuevo token semantico:

```css
/* 1. :root */
:root { --mi-token: #value; }

/* 2. .dark con puente */
.dark { --mi-token: #dark-value; }

/* 3. @theme */
@theme { --color-mi-token: var(--mi-token); }
```

## TabsList: Patron Constrained

Todos los `TabsList` siguen:
```jsx
<TabsList className="grid w-full grid-cols-N max-w-lg">
  {/* max-w-xl para 5+ columnas */}
</TabsList>
```
